#!/usr/bin/amilab

#SetDebugOn
#SetVerboseOn

NoMessageDialog(1)

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# test_file_rewind.amil
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Check the following methods:
#                              - rewind
#
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

func "ctest/ctest_config.amil"

OK = 1 # The test was successful

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

printn "\t\t ******************************************"
printn "\t\t *                 WARNING                *"
printn "\t\t ******************************************"
printn "\t\t *                                        *"
printn "\t\t * This test does not perform useful work *"
printn "\t\t * ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ *"
printn "\t\t *                                        *"
printn "\t\t * Just check:                            *"
printn "\t\t * - The parser does not generate errors. *"
printn "\t\t * - Segmentation fault does not occur.   *"
printn "\t\t *                                        *"
printn "\t\t ******************************************\n"

printn "\t\t Create an object of class File (file = File(\"w\", \"test_rewind.txt\")).\n"
file=File("w", "test_rewind.txt")

printn "\t\t Write the values: 1, 2.\n"
file._print("1")
file._print("2")

printn "\t\t Execute: file._rewind().\n"
file._rewind();

printn "\t\t Write the values: 3, 4.\n"
file._print("3")
file._print("4")

printn "\t\t Close the file(Deprecated)).\n"
file.close()

printn "\t\t Open the file: test_read_write.txt (newFile=file._open(\"r\", \"test_rewind.txt\")).\n"
newFile=file._open("r", "test_rewind.txt")

printn "\t\t Read the file: test_read_write.txt (value=newFile.read_string()).\n"
value=newFile.read_string()

printn "\t\t value=%1%\n" % value

printn "\t\t Read the file: test_read_write.txt (value=newFile.read_string()).\n"
value=newFile.read_string()

printn "\t\t value=%1%\n" % value

printn "\t\t Close the file(Deprecated)).\n"
newfile.close()

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

ctest.PrintTestResult( OK ) 

#quit

