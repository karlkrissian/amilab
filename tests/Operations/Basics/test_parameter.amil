#!/usr/bin/amilab

#SetDebugOn
#SetVerboseOn

NoMessageDialog(1)

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# test_parameter.amil
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Determines the number of parameters it receives a AMILab script.
#
# For example: amilab "VTK" --> argc = 2 parameters(first:amilab, second:"VTK")
#
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

func "ctest/ctest_config.amil"

print  "\n\t Number of parameters received: (%1%)\n" % argc

# The first argument corresponds to the binary AMILAB.
for i=1 to argc{
  print  "\n\t\t Received parameter(%1%): " % i
  eval "printn $%0.0f;" % i
}

#
# It is verified that these parameters have been received:
#
# FirstParam  SecondParam  ThirdParam  FourthParam  FifthParam  (5 parameters)
#
printn "\n\n\t Now, check if they have received the following five parameters:\n"
printn "\t\tFirstParam  SecondParam  ThirdParam  FourthParam  FifthParam\n"

OK=0

if(argc == 5) {
  if(($1 == "FirstParam") && ($2 == "SecondParam") && \
     ($3 == "ThirdParam") && ($4 == "FourthParam") && \
     ($5 == "FifthParam"))  {
    OK=1
  }
}

ctest.PrintTestResult( OK ) 

#quit

