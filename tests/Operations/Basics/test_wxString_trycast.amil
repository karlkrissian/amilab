#!/usr/bin/amilab

#SetDebugOn
#SetVerboseOn

NoMessageDialog(1)

# Hide main frame
ami.MainFrame.Show(0)

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# test_wxString_trycast.amil
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Check the following methods:
#                              - constructor
#                              - try_cast
#
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

func "ctest/ctest_config.amil"

OK = 1 # The test was successful

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

printn "Create an object of class wxString(sString = wx.wxString(\"hello world !!!\")).\n"
sString = wx.wxString("hello world !!!")

VAL1=sString.c_str()

printn "\t Returns the sString value: - %1% -\n" % VAL1

printn "Create an object of class wxString from another wxString object(sString1 = wx.wxString(sString)).\n"
sString1 = wx.wxString(sString)

VAL2=sString1.c_str()

printn "\t Returns the sString1 value: - %1% -\n" % VAL2

if((VAL1 != "hello world !!!") && (VAL2 != "hello world !!!")) {
  OK = 0
  printn  "\nERROR: The try cast failed."
}

printn "Add \" Karl said\" to sString(sString += \"Karl said\").\n"
sString += " Karl said" 

VAL3=sString.c_str()
printn "\t Return sString: - %1% -\n" % VAL3

if(VAL3 != "hello world !!! Karl said") {
  OK = 0
  printn  "\nERROR: The try cast failed."
}

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

ctest.PrintTestResult( OK ) 

#quit

