#!/usr/bin/amilab

#SetDebugOn
#SetVerboseOn

NoMessageDialog(1)

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# test_dessinimage_compare.amil
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Check the following methods:
#                              - compare.
#                              - showcursor
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

func "ctest/ctest_config.amil"

OK = 1 # The test was successful

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

# Create initial image
func "SyntheticImages/CreateTorus/CreateTorusClass.amil"
CreateTorusClass ctobject

DIMX=100
DIMY=100
DIMZ=100
BG=0
FG=0
R=20
r=4

printn " Create synthetic imaged:"
printn "\t dimx=%1%" % DIMX
printn "\t dimy=%1%" % DIMY
printn "\t dimz=%1%" % DIMZ
printn "\t bg=%1%" % BG
printn "\t fg=%1%" % FG
printn "\t R=%1%"  % R
printn "\t r=%1%"  % r

ctobject.dimx = 60
ctobject.dimy = 60
ctobject.dimz = 30
ctobject.bg = 0
ctobject.fg = 100
ctobject.R = 20
ctobject.r = 4
ctobject.Create()

printn "\t\t Create two objects of class DessinImage (torus_draw and torus_draw2).\n"
torus_draw=DessinImage(&torus)
torus_draw2=DessinImage(&torus)

printn "\t\t Show current position object torus_draw:\n"
printn "\t\t\t X (GetXPos)=%1% " % torus_draw.GetXPos()
printn "\t\t\t Y (GetYPos)=%1% " % torus_draw.GetYPos()
printn "\t\t\t Y (GetZPos)=%1% " % torus_draw.GetZPos()

printn "\t\t Show current position object torus_draw2:\n"
printn "\t\t\t X (GetXPos)=%1% " % torus_draw2.GetXPos()
printn "\t\t\t Y (GetYPos)=%1% " % torus_draw2.GetYPos()
printn "\t\t\t Y (GetZPos)=%1% " % torus_draw2.GetZPos()

printn "\n\t\t Display the cursor of a imagedraw window (showcursor(1))"
torus_draw.showcursor(1)
torus_draw2.showcursor(1)

printn "\t\t Execute: torus_draw.compare(&torus_draw2)"
torus_draw.compare(&torus_draw2)

printn "\n\t\t Changing position on the object torus_draw ( _setpos(GetXmin,GetYmin,GetZmin) )"
torus_draw._setpos(torus_draw.GetXmin(), torus_draw.GetYmin(), torus_draw.GetZmin())

printn "\t\t Show current position object torus_draw2:\n"
printn "\t\t\t X (GetXPos)=%1% " % torus_draw2.GetXPos()
printn "\t\t\t Y (GetYPos)=%1% " % torus_draw2.GetYPos()
printn "\t\t\t Y (GetZPos)=%1% " % torus_draw2.GetZPos()

ResultX=torus_draw.GetXPos()
ResultX_2=torus_draw2.GetXPos()
ResultY=torus_draw.GetYPos() 
ResultY_2=torus_draw2.GetYPos()
ResultZ=torus_draw.GetZPos() 
ResultZ_2=torus_draw2.GetZPos()
if(ResultX != ResultX_2) &&  (ResultY != ResultY_2) && (ResultZ != ResultZ_2) {
  OK = 0
  printn  "\nERROR: The position has not changed(_compare failed)."
}

printn "\n\t\t Display the cursor of a imagedraw window (showcursor(0))"
torus_draw.showcursor(0)
torus_draw2.showcursor(0)

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

ctest.PrintTestResult( OK ) 

#quit

