#!/usr/bin/amilab

#SetDebugOn
#SetVerboseOn

NoMessageDialog(1)

# Hide main frame
ami.MainFrame.Show(0)

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# test_file_readwrite_float.amil
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Check the following methods:
#                              - scan_float
#                              - read_float
#
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

func "ctest/ctest_config.amil"

OK = 1 # The test was successful

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

printn "\t\t Create an object of class File (file = File(\"test_readwrite_float.txt\", \"w\")).\n"
file=File("test_readwrite_float.txt", "w")

printn "\t\t Write the values: 1, 2, 3, 4.\n"
value1=1
value2=2
value3=3
value4=4

file._printn(value1)
file._printn(value2)
file._printn(value3)
file._printn(value4)

printn "\t\t Close the file(Deprecated)).\n"
file.close()

printn "\t\t Open the file: test_readwrite_float.txt (newFile=File(\"r\", \"test_readwrite_float.txt\")).\n"
newFile=File("test_readwrite_float.txt", "r")

printn "\t\t Read the file: test_read_write.txt (firstValue=newFile.scan_float(\"%f\")).\n"
firstValue=newFile.scan_float("%f")

printn "\t\t Read the file: test_read_write.txt (secondValue=newFile.scan_float(\"%f\")).\n"
secondValue=newFile.scan_float("%f")

printn "\t\t Read the file: test_read_write.txt (thirdValue=newFile.read_float()).\n"
thirdValue=newFile.read_float()

printn "\t\t Read the file: test_read_write.txt (fourthValue=newFile.read_float()).\n"
fourthValue=newFile.read_float()

printn "\t\t Close the file(Deprecated)).\n"
newFile.close()

printn "\t\t First value read=%1%\n" % firstValue
printn "\t\t Second value read=%1%\n" % secondValue
printn "\t\t Third value read=%1%\n" % thirdValue
printn "\t\t Fourth value read=%1%\n" % fourthValue

if((firstValue != value1) && (secondValue != value2) && \
   (thirdValue != value3) && (fourthValue != value4)) {
  OK = 0
  printn  "\nERROR: The reading does not match the value written."
}

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

ctest.PrintTestResult( OK ) 

#quit

