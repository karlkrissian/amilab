#!/usr/bin/amilab

#SetDebugOn
#SetVerboseOn

NoMessageDialog(1)

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# test_dessinimage_update.amil
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Check the following methods:
#                              - update.
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

func "ctest/ctest_config.amil"

OK = 1 # The test was successful

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

printn "\t\t ******************************************"
printn "\t\t *                 WARNING                *"
printn "\t\t ******************************************"
printn "\t\t *                                        *"
printn "\t\t * This test does not perform useful work *"
printn "\t\t * ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ *"
printn "\t\t *                                        *"
printn "\t\t * Just check:                            *"
printn "\t\t * - The parser does not generate errors. *"
printn "\t\t * - Segmentation fault does not occur.   *"
printn "\t\t *                                        *"
printn "\t\t ******************************************\n"

# Create initial image
func "SyntheticImages/create_torus_gui.amil"
CTClass CT

DIMX=100
DIMY=100
DIMZ=100
BG=0
FG=0
R=20
r=4

printn "\t\t Create synthetic imaged:"
printn "\t\t\t dimx=%1%" % DIMX
printn "\t\t\t dimy=%1%" % DIMY
printn "\t\t\t dimz=%1%" % DIMZ
printn "\t\t\t bg=%1%" % BG
printn "\t\t\t fg=%1%" % FG
printn "\t\t\t R=%1%"  % R
printn "\t\t\t r=%1%"  % r

ctobject->dimx = 100
ctobject->dimy = 100
ctobject->dimz = 100
ctobject->bg = 0
ctobject->fg = 100
ctobject->R = 20
ctobject->r = 4
ctobject->Create

printn "\t\t Create an object of class DessinImage (torus_draw).\n"
torus_draw=DessinImage(&torus)

printn "\t\t Divide by 2 the image (torus=torus/2).\n"
torus=torus/2

printn "\n\t\t Update the image that is drawn in the specified window (update)"
torus_draw.update()

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

ctest.PrintTestResult( OK ) 

#quit

