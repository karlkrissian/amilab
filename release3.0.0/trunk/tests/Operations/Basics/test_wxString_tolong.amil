#!/usr/bin/amilab

#SetDebugOn
#SetVerboseOn

NoMessageDialog(1)

# Hide main frame
ami.MainFrame.ShowWin(0)

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# test_wxString_tolong.amil
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Check the following methods:
#                              - constructor
#                              - c_str
#                              - ToLong
#
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

func "ctest/ctest_config.amil"

OK = 1 # The test was successful

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

printn "Create an object of class wxString(sString = wx.wxString(\"hello world !!!\")).\n"
sString = wx.wxString("hello world !!!")

VAL=sString.c_str()

printn "\t Returns the sString value: - %1% -\n" % VAL

printn "Converts the string to a signed integer in base 10 (VAL2=sString.ToLong()).\n"
VAL2=sString.ToLong()

printn "\t VAL2: %1%\n" % VAL2

if (VAL2 != -1) {
  OK=0;
  printn  "\nERROR: The string does not represent such number."
}

printn "Create an object of class wxString(sString1 = wx.wxString(\"10\")).\n"
sString1 = wx.wxString("10")

VAL3=sString1.c_str()

printn "\t Returns the sString1 value: - %1% -\n" % VAL3

printn "Converts the string to a signed integer in base 10 (VAL4=sString1.ToLong()).\n"
VAL4=sString1.ToLong()

printn "\t VAL4: %1%\n" % VAL4

if (VAL4 == -1) {
  OK=0;
  printn  "\nERROR: Unable to convert the string."
}

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

ctest.PrintTestResult( OK ) 

#quit

